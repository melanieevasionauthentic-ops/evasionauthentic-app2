
<!DOCTYPE html><html lang="fr"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Lieux • Evasion Authentic</title>
<link rel="icon" href="../assets/favicon.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<link rel="stylesheet" href="../css/style.css"/></head>
<body>
<header class="topbar"><div class="brand"><a href="../index.html"><img src="../assets/logo.svg" class="logo" alt="Evasion Authentic"/></a></div></header>
<main>
  <h1>Lieux à découvrir</h1>
  <div class="map-wrap"><div id="map" class="map"></div><button id="enable-map" class="map-overlay">Activer la carte</button></div>
  <input id="search" placeholder="Rechercher un lieu, plage, village…"/>
  <div id="list" class="cards"></div>
</main>
<footer class="footer"><small>© Evasion Authentic — WhatsApp +34 618 688 798</small></footer>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="../js/data.js"></script>
<script src="../js/common.js"></script>
<script>
const map=L.map('map',{scrollWheelZoom:false}).setView([39.66,3.0],9);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'© OpenStreetMap'}).addTo(map);
const layer=L.layerGroup().addTo(map); guardMap(map, document.getElementById('enable-map'));
const box=document.getElementById('list'); function draw(q=''){box.innerHTML=''; layer.clearLayers(); window.APP_DATA.places.filter(p=>!q||p[0].toLowerCase().includes(q)).forEach(p=>{const [t,ty,pos,img,desc]=p; const card=document.createElement('a'); card.className='card'; card.href='#'; card.innerHTML=`<img src="../${img}"><div class="pad"><h3>${t}</h3><div class="badge">${pos.zone}</div><p>${desc}</p></div>`; box.appendChild(card); const m=L.marker([pos.lat,pos.lng]).addTo(layer).bindPopup(`<strong>${t}</strong><br>${desc}`); card.addEventListener('click',e=>{e.preventDefault(); map.setView([pos.lat,pos.lng],12); m.openPopup(); window.scrollTo({top:0,behavior:'smooth'});});});}
draw(); document.getElementById('search').addEventListener('input',e=>draw(e.target.value.trim().toLowerCase()));
</script>
</body></html>
